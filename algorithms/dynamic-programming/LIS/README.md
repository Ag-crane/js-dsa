# 최장 증가 부분 수열 (LIS, Longest Increasing Subsequence)

원소의 순서를 유지하면서 부분적으로 증가하는 가장 긴 부분 수열을 말한다.

이분탐색 : O(NlogN)으로 훨씬 효율적임
DP : O(N^2)이지만 구현 방법이 쉬움

## DP 관점에서 바라보기

- 전체 수열에서 각 원소를 마지막 원소로 하는 LIS의 길이를 작은 문제로 정의한다.

- 즉, 현재 원소를 기준으로 이전의 원소들 중 자신보다 작은 원소들을 조사하여 그중 가장 긴 LIS를 찾고, 그 LIS에 현재 원소를 추가하여 문제를 해결한다.

- 이때 현재 원소 arr[i]를 마지막으로 하는 LIS의 길이를 dp[i] 배열에 저장한다.

## 역추적

dp 배열의 최댓값은 LIS의 길이가 된다.
만약 **LIS 수열 자체**를 구하고 싶다면 역추적 과정이 필요하다.

- dp[i]를 계산할 때, 현재 원소를 추가하기 직전의 원소의 인덱스를 별도의 prev[i] 배열에 저장한다.

- 모든 계산이 끝난 후, dp 배열에서 가장 큰 값의 인덱스를 찾는다. 이 인덱스가 바로 LIS의 마지막 원소 위치이다.

- 찾은 인덱스부터 시작하여 prev 배열에 저장된 이전 원소의 인덱스를 따라가며 역추적하여 LIS를 구성한다.

- 역추적한 결과를 뒤집으면, 정확한 LIS를 얻을 수 있다.